%!TEX root = main.tex
\chapter{Background}

This chapter details the background of the TaleBlazer project, including the separate components of TaleBlazer and how it works as a whole. The history of TaleBlazer and past location-based projects are also detailed. Finally, the chapter expands on the need for TaleBlazer Analytics and prior analytics solutions. 

\section{TaleBlazer}

TaleBlazer is an augmented reality location-based game platform developed at the MIT Scheller Teacher Education Program (STEP). TaleBlazer is a platform in the true sense in that it is composed of multiple techologies which all come together to form the core of the TaleBlazer experience. At its core, TaleBlazer lets users create their own games that take place in the real world, using a block-based scripting language. Users can then choose to publish their games to the world at large. Using an Android or iOS mobile device, players play TaleBlazer games by downloading the game and physically walking around in the real-world location of the game and interacting with virtual game ``agents'': user-scripted virtual entities that are placed by the game designer at specific GPS coordinates.

\subsection{Overview of a TaleBlazer Game}

A typical TaleBlazer consists of the following parts: 
	\begin{itemize}
		\item regions, which are the real-world locations where game takes place
		\item roles, which encompass different sets of behaviors for a game
		\item scenarios, which encompass different versions of a game
		\item agents, in-game virtual entities
		\item traits, variables that belong to different in-game entities or the world
		\item scriptblocks, sets of programming instructions that define the behaviors for game entities
	\end{itemize}

\subsubsection{Regions}

Regions are real-world locations where TaleBlazer games take place. Using the game editor, game designers define their game regions by selecting an area of a Google map. Regions define the area where in-game virtual entities, called ``agents'' can be placed. Games can have one or more regions, each with their own name. The game designer also has the option of moving the player or agents from one region to another. [REGION PICTURE FROM EDITOR]  In order to play a TaleBlazer game, a player goes to the real-world location with their mobile device and moves around the region to activate the agents placed at the locations. 

\subsubsection{Roles}

Roles allow game designers to define different characters or types of interactions for different sets of players. A game can have one or more roles. If a single role is defined, then all players experience the same game. Multiple roles let the game designer define different sets of behaviors for different roles. Each role has a name and an optional description, which players see when choosing between roles at the start of a TaleBlazer game. For example, a competitive game might have players choose between the roles of ``Red Team'' and ``Blue Team''.

\subsubsection{Scenarios}

Scenarios allow game designers to create different versions of the same game that players can choose between. Games can have one or more scenarios, each with their own name. If a game has multiple scenarios, then the player is asked to choose between them at the start of a game. The game designer can tailor the behaviors of his game according to the choice of scenario. For example, scenarios could be difficulty options, such as ``Easy'', ``Medium'', and ``Hard''.

\subsubsection{Agents}

Agents are the in-game virtual entities with which players interact during the course of a TaleBlazer game. Agents have a name, description, set of behaviors, and an optional real-world location. Agents could be anything from items like a treasure chest to a non-player character (NPC) that gives a player quests. Users have multiple methods by which they can interact with agents. Agents placed within a region have corresponding GPS coordinates. Players interact with the agent by arriving at the GPS coordinates of an agent. Some games allow the user to tap on an agent's icon on the map of the game to interact with the agent, referred to as ``tap-to-visit''. Although there are many different ways that a player could come to interact with an agent, an agent interaction in general is referred to as an ``agent bump''.

\subsubsection{Traits}

Traits are variables that can be attached to agents, roles, or the game world in general. Traits have names and values and can be modified during the course of a game based on the behaviors defined by the game designer. Game designers can create their own custom traits, each with a user-defined value. Traits can be used to represent game mechanics from a player's score to complex timers. 

\subsubsection{ScriptBlocks}

ScriptBlocks is a block-based programming language that allows game designers to define the behaviors for their game. ScriptBlocks is ``block-based'' because all programming instructions come in the form of blocks that you connect together using a visual game editor. [PICTURE OF CODE BLOCKS] For example, conditional behaviors can be defined using a conditional ``IF-ELSE'' block, which has sockets that allow you to insert other blocks to define the conditional statement to evaluate. Game designers can write game behaviors by creating agent or role-specific scripts, or by writing scripts applicable to the entire game world. 

TaleBlazer contains a comprehensive set of programming blocks, encompassing logical and mathematical functions to TaleBlazer-specific blocks. For example, a user can easily check the state of a game agent or move an agent or player from one location to another. [FIGURE OF ALL SCRIPTBLOCKS]

\subsection{TaleBlazer Technology}

The TaleBlazer platform is comprised of four main parts:
	\begin{itemize}
 		\item the game editor, which lets users create their own games
 		\item the mobile app, on which TaleBlazer games are played
 		\item the repository server, which stores and serves games
 		\item and the multiplayer server, which enables multiplayer TaleBlazer games
 	\end{itemize}

\subsubsection{Game Editor}
The game editor is an online web application which lets users create their own TaleBlazer games through the use of ScriptBlocks, a block-based scripting language. [PICTURE OF EDITOR?]. Using the editor, users select their game regions, create agents, roles and scenarios, and program the game by composing scripts. Users can save and publish their games, with the option of making their game open to the public or private. The game editor also provides options for modifying the game interface that players see when playing a game on their mobile device. The game editor is written in JavaScript. 

\subsubsection{TaleBlazer Mobile}

TaleBlazer Mobile is an Android and iOS mobile app that lets users play TaleBlazer games. Users download the app via their respective app stores. TaleBlazer Mobile lets users download TaleBlazer games onto their device and play them, utilizing the location-aware functionalities of the device. TaleBlazer Mobile interprets the blocks in each game file and executes them during the course of the game.

The TaleBlazer Mobile game interface consists primarily of a map of the current game region and icons indicating the position of the player and active game agents. Tabs along the top of the screen provide different gameplay functionalities. For example, a game can include the Inventory tab, which tracks currently held items, or the Log tab, which contains a log of all the actions a player has taken during the course of a game.

TaleBlazer Mobile is written using Appcelerator Titanium, an SDK that lets developer write native Android and iOS applications using JavaScript. 

\subsubsection{TaleBlazer Server}

TaleBlazer Server is the main repository server which handles user accounts, hosts the game editor, and stores and serves TaleBlazer games and game-related files (e.g. images, video). TaleBlazer Server is written in PHP using the CakePHP framework and backed by a MySQL database. 

\subsubsection{TaleBlazer Multiplayer}

TaleBlazer Multiplayer is a separate server which provides multiplayer functionality for TaleBlazer games. TaleBlazer Multiplayer implements a separate protocol which allows devices to take part in multiplayer games. Furthermore, it synchronizes the state of the world between all devices. The server is written in Node.js, using JavaScript.

\subsection{Past Projects}

TaleBlazer is the most recent iteration and study into AR games performed at the STEP lab. Past projects, such as MITAR and StarLogo TNG, provided a basis on which TaleBlazer was built, namely the emphasis on augmented reality and the use of a block-based scripting language.

\subsubsection{MITAR}

MITAR (MIT Augmented Reality) was the immediate ancestor of TaleBlazer. Similar to TaleBlazer, MITAR sought to let users play location-based augmented reality games on earlier mobile platforms, such as Windows Mobile. MITAR also focused on the educational impact of augmented reality games on users. One game, called ``Environmental Detectives'' put users into the roles of investigators searching for the source of a toxic spill, taking measurements in order to determine the environmental impact. \cite{site:ed}

\subsubsection{StarLogo TNG}

StarLogo TNG (The Next Generation) was a project in programmable simulation modeling which allowed users to explore the workings of complex decentralized systems, such as ant colonies and traffic jams. \cite{site:starlogo} Similar to TaleBlazer, users could program the simulation using a block-based scripting language. 

\section{Why Build TaleBlazer Analytics?}

The educational focus of the TaleBlazer project requires that the impact of TaleBlazer games on learning be measured. Game designers and educational researchers are supremely interested in seeing exactly how players play their game in order to draw conclusions as to their games' effectiveness. Existing solutions fail to provide useful analytics with a desirable level of privacy. To this end, it was necessary to build TaleBlazer Analytics to meet our requirements. 

\subsection{Purpose of Data Collection}

The overall purpose of collecting TaleBlazer gameplay metrics is to provide interested parties with information to make informed decisions regarding the effectiveness of their game, across different aspects. This data ranges from how players play the game to the distribution of devices being used. There are four main parties that are interested in this type of data: 
	\begin{itemize}
		\item Game designers
		\item Educational researchers
		\item TaleBlazer developers
		\item Institutions
	\end{itemize}

\subsubsection{Game designers}
Game designers are primarily interested in seeing how players progress through the game and the choices they make along the way. Using this formation, a game designer can quickly determine problematic spots in the game. For example, players may stop playing after a particular point in the game because the instructions to proceed aren't clear or there is a possible bug in the designed behaviors. As a result, the game designer can improve the game to make it a better experience for the players.

\subsubsection{Educational researchers}

Educational researchers are interested in seeing how a game's content affects a player in the short or long-term. The choices that a player makes during a session can inform the researcher as to the level of a player's knowledge or how the content affected the player's understanding of the topic at hand. Often, the gameplay metrics are paired with external data, such as post-gameplay questionnaires or interviews. For exampe, a researcher studying a game about the environment might look at if a player encountered an EPA agent in-game or how fast they completed the game to see if a player missed crucial information or may not have been paying attention.

\subsubsection{TaleBlazer developers}

TaleBlazer developers are interested in the technical aspects of games in order to inform future technical decisions and feature roadmaps. For example, the kinds of devices being used and the version of their operating system (OS) is supremely useful in determining possible technical issues related to specific devices and the adoption rate of new OS versions. This information can then be applied to guide the TaleBlazer development process and provide concrete data with which to prioritize tasks. 

\subsubsection{Institutions}

Analytics data may also be used for purposes outside of games. TaleBlazer is currently in use at several institutions across the country, such as botanical gardens, zoos, and historical sites. In these cases, quantitative metadata concerning when and how long games are played can prove especially useful in determining the effectiveness and impact of TaleBlazer games on vistors. Additonally, it can potentially provide information about the effects of exhibits and areas at an institution.

\subsection{Existing Analytics Solutions}

The user-generated nature of TaleBlazer games results in games that span a huge range of possibilities. As a result, TaleBlazer requires an analytics solution that is both \textit{flexible} and \textit{useful}: flexible in order to accomodate the range of possibilities, and useful in order to provide meaningful analytics.

Existing solutions fail in two regards:
\begin{enumerate}
	\item They fail to provide data analysis useful to TaleBlazer.
	\item They fail to provide an adequate level of user privacy.
\end{enumerate}

\subsubsection{Lacking Data Analysis}

Existing mobile analytics services focus on providing a general data collection solution for its users. Solutions provided by Flurry and Mixpanel focus on an event-based method of analytics, which tracks unique events across every use of the app. However, these services cannot generate data analytics that are useful and specific to TaleBlazer because they focus on collecting data and not providing application-specific data analysis.

As a result, it was necessary to develop an analytics system built specifically with TaleBlazer in mind. Specifically, this means that features such as data collection, categorization, and statistics calculation can be customized to fit the specific use cases of TaleBlazer Analytics users. 

\subsubsection{Non-Adequate User Privacy}

A separate concern arises when dealing with the nature of the TaleBlazer analytics data and the question of privacy. Privacy is supremely important to the TaleBlazer project, as games are often played by minors and students. As a result, it is a requirement that any collected data be completely anonymized and only used for educational and research purposes. Solutions, such as Flurry, do not guarantee the absolute privacy of the data provided to them and in fact may share that data with third parties. \cite{site:flurry}

As such, it was necessary to build TaleBlazer Analytics to ensure that data was anonymized and only for the purposes of the TaleBlazer project. 





















